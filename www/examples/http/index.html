<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" href="/images/favicon_io/favicon.ico">
    <link rel="apple-touch-icon" href="/images/favicon_io/apple-touch-icon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>http</title>
    <link rel="stylesheet" href="../../dist/app.css">
    <style>
        /* TODO Show div#loader while HTTP requests are in progress,
         this prevents UI from triggering duplicate events */
        #loader {
            z-index: 100;
            position: fixed;
            padding: 0;
            margin: 0;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            opacity: 0.1;
        }
    </style>
</head>

<body>
    <div id="loader" style="display: none">&nbsp;</div>

    <div x-data>
        <div class="w3-container">
            <h3>
                <a href="https://github.com/mozey/ts/tree/main/src/http#readme">
                    HTTP Client Examples</a>
            </h3>
            <p>
                Makes use of the Fetch API.
                Click the links below to make HTTP Requests
            </p>
            <ul>
                <li><a href="javascript:" x-on:click="app.examples.http.post()">
                        Post</a></li>
                <li><a href="javascript:" x-on:click="app.examples.http.timeout()">
                        Timeout</a></li>
                <li><a href="javascript:" x-on:click="app.examples.http.interceptor()">
                        Intercept requests</a></li>
                <li><a href="javascript:" x-on:click="app.examples.http.progress()">
                        Progress indicator</a></li>
                <li><a href="javascript:" x-on:click="app.examples.http.simultaneous()">
                        Simultaneous requests</a></li>
                <li><a href="javascript:" x-on:click="app.examples.http.requestInterface()">
                        Request interface</a></li>
            </ul>
        </div>

        <div id="results" class="w3-container">&nbsp;</div>

        <!-- https://www.w3schools.com/tags/tag_template.asp -->
        <template id="results-template">
            <!-- https://www.w3schools.com/w3css/w3css_alerts.asp -->
            <div class="w3-panel w3-display-container w3-pale-yellow">
                <span x-on:click="$el.parentElement.remove()" class="w3-button w3-display-topright">&times;</span>
                <h3>Request</h3>
                <h3>
                    <form class="x-app-url" action="" method="" target="_blank">
                        url => <a href="javascript:" onclick="this.parentElement.submit()">&nbsp;</a>
                    </form>
                </h3>
                <p>
                <pre class="x-app-req">&nbsp;</pre>
                </p>
                <h3>Response</h3>
                <p>
                <pre class="x-app-resp">&nbsp;</pre>
                </p>
            </div>
        </template>

        <template id="results-template-2">
            <div class="w3-container">
                <div id="progress">progress</div>
                <img id="img" src="">
            </div>
        </template>
    </div>

    <script src="../../dist/app.js"></script>
    <script>
        // https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event
        window.addEventListener('load', (event) => {
            // Demonstrating the "load" event, and calling a function 
            // on the global "app" namespace, see src/app.ts,
            // and logs in the Dev Console
            app.examples.http.sayHello();
        });
    </script>
</body>

</html>